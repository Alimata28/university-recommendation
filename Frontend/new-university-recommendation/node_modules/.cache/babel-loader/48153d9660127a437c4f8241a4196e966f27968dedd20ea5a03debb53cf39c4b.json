{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./UniversitySearch.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UniversitySearch=()=>{const[department,setDepartment]=useState('');const[error,setError]=useState('');const[universities,setUniversities]=useState([]);const navigate=useNavigate();// Utilisation de la variable d'environnement\nconst backendUrl=process.env.REACT_APP_BACKEND_URL;useEffect(()=>{if(department){const fetchUniversities=async()=>{try{console.log(`Searching for universities in department: ${department}`);const response=await axios.get(`${backendUrl}/api/endpoint/recommend?department=${department}`);console.log('API response:',response.data);setUniversities(response.data);setError('');}catch(err){console.error('Error while searching for universities:',err);setError('Error while searching for universities');}};fetchUniversities();}},[department,backendUrl]);const handleSearch=()=>{navigate('/results',{state:{universities}});};const goToAboutUs=()=>{navigate('/about-us');};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"about-us-button\",onClick:goToAboutUs,children:\"About Us\"}),/*#__PURE__*/_jsx(\"div\",{className:\"welcome-message\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Turkey's Universities Recommendation System!\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Search Universities\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:department,onChange:e=>setDepartment(e.target.value),placeholder:\"Enter the name of the department\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"}),error&&/*#__PURE__*/_jsx(\"p\",{children:error})]})]});};export default UniversitySearch;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","UniversitySearch","department","setDepartment","error","setError","universities","setUniversities","navigate","backendUrl","process","env","REACT_APP_BACKEND_URL","fetchUniversities","console","log","response","get","data","err","handleSearch","state","goToAboutUs","className","children","onClick","type","value","onChange","e","target","placeholder"],"sources":["C:/Documents/Staj II/Projet pour le staj/recommender_system/Frontend/new-university-recommendation/src/components/UniversitySearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './UniversitySearch.css';\r\n\r\nconst UniversitySearch = () => {\r\n  const [department, setDepartment] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [universities, setUniversities] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  // Utilisation de la variable d'environnement\r\n  const backendUrl = process.env.REACT_APP_BACKEND_URL;\r\n\r\n  useEffect(() => {\r\n    if (department) {\r\n      const fetchUniversities = async () => {\r\n        try {\r\n          console.log(`Searching for universities in department: ${department}`);\r\n          const response = await axios.get(`${backendUrl}/api/endpoint/recommend?department=${department}`);\r\n          console.log('API response:', response.data);\r\n          setUniversities(response.data);\r\n          setError('');\r\n        } catch (err) {\r\n          console.error('Error while searching for universities:', err);\r\n          setError('Error while searching for universities');\r\n        }\r\n      };\r\n\r\n      fetchUniversities();\r\n    }\r\n  }, [department, backendUrl]);\r\n\r\n  const handleSearch = () => {\r\n    navigate('/results', { state: { universities } });\r\n  };\r\n\r\n  const goToAboutUs = () => {\r\n    navigate('/about-us');\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <button className=\"about-us-button\" onClick={goToAboutUs}>About Us</button>\r\n      <div className=\"welcome-message\">\r\n        <h1>Welcome to Turkey's Universities Recommendation System!</h1>\r\n      </div>\r\n      <div className=\"search-container\">\r\n        <h2>Search Universities</h2>\r\n        <input \r\n          type=\"text\" \r\n          value={department} \r\n          onChange={(e) => setDepartment(e.target.value)} \r\n          placeholder=\"Enter the name of the department\"\r\n        />\r\n        <button onClick={handleSearch}>Search</button>\r\n        {error && <p>{error}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UniversitySearch;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhC,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,YAAY,CAAEC,eAAe,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAAe,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAa,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAEpDlB,SAAS,CAAC,IAAM,CACd,GAAIQ,UAAU,CAAE,CACd,KAAM,CAAAW,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACFC,OAAO,CAACC,GAAG,CAAC,6CAA6Cb,UAAU,EAAE,CAAC,CACtE,KAAM,CAAAc,QAAQ,CAAG,KAAM,CAAArB,KAAK,CAACsB,GAAG,CAAC,GAAGR,UAAU,sCAAsCP,UAAU,EAAE,CAAC,CACjGY,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEC,QAAQ,CAACE,IAAI,CAAC,CAC3CX,eAAe,CAACS,QAAQ,CAACE,IAAI,CAAC,CAC9Bb,QAAQ,CAAC,EAAE,CAAC,CACd,CAAE,MAAOc,GAAG,CAAE,CACZL,OAAO,CAACV,KAAK,CAAC,yCAAyC,CAAEe,GAAG,CAAC,CAC7Dd,QAAQ,CAAC,wCAAwC,CAAC,CACpD,CACF,CAAC,CAEDQ,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAC,CAAE,CAACX,UAAU,CAAEO,UAAU,CAAC,CAAC,CAE5B,KAAM,CAAAW,YAAY,CAAGA,CAAA,GAAM,CACzBZ,QAAQ,CAAC,UAAU,CAAE,CAAEa,KAAK,CAAE,CAAEf,YAAa,CAAE,CAAC,CAAC,CACnD,CAAC,CAED,KAAM,CAAAgB,WAAW,CAAGA,CAAA,GAAM,CACxBd,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAC,CAED,mBACER,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B1B,IAAA,WAAQyB,SAAS,CAAC,iBAAiB,CAACE,OAAO,CAAEH,WAAY,CAAAE,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC3E1B,IAAA,QAAKyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B1B,IAAA,OAAA0B,QAAA,CAAI,yDAAuD,CAAI,CAAC,CAC7D,CAAC,cACNxB,KAAA,QAAKuB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B1B,IAAA,OAAA0B,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5B1B,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEzB,UAAW,CAClB0B,QAAQ,CAAGC,CAAC,EAAK1B,aAAa,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CI,WAAW,CAAC,kCAAkC,CAC/C,CAAC,cACFjC,IAAA,WAAQ2B,OAAO,CAAEL,YAAa,CAAAI,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC7CpB,KAAK,eAAIN,IAAA,MAAA0B,QAAA,CAAIpB,KAAK,CAAI,CAAC,EACrB,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}